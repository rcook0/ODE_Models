<!doctype html><html><head><meta charset='utf-8'><title>Linear 2x2 WASM Demo</title><style>body{font-family:sans-serif;margin:20px}canvas{border:1px solid #ccc}</style></head><body><h1>Linear 2Ã—2 (WASM)</h1><div><label>a11 <input id='a11' type='number' step='0.1' value='-1'></label><label>a12 <input id='a12' type='number' step='0.1' value='-5'></label><label>a21 <input id='a21' type='number' step='0.1' value='2'></label><label>a22 <input id='a22' type='number' step='0.1' value='-3'></label><button id='run'>Run</button></div><canvas id='plot' width='640' height='400'></canvas><script type='module'>import init,{integrate_linear_2x2} from './pkg/ode_wasm.js';const plot=document.getElementById('plot');const ctx=plot.getContext('2d');function draw(ts,ys,dim){ctx.clearRect(0,0,plot.width,plot.height);ctx.beginPath();let n=ts.length;let xmin=1e9,xmax=-1e9,ymin=1e9,ymax=-1e9;for(let i=0;i<n;i++){const x=ys[i*dim],y=ys[i*dim+1];xmin=Math.min(xmin,x);xmax=Math.max(xmax,x);ymin=Math.min(ymin,y);ymax=Math.max(ymax,y);}const pad=0.1,dx=(xmax-xmin)||1,dy=(ymax-ymin)||1;const tx=x=>((x-xmin)/dx)*(plot.width*(1-2*pad))+plot.width*pad;const ty=y=>plot.height-(((y-ymin)/dy)*(plot.height*(1-2*pad))+plot.height*pad);for(let i=0;i<n;i++){const X=tx(ys[i*dim]),Y=ty(ys[i*dim+1]);if(i===0)ctx.moveTo(X,Y);else ctx.lineTo(X,Y);}ctx.stroke();}await init();document.getElementById('run').onclick=()=>{const a11=parseFloat(a11.value),a12=parseFloat(a12.value),a21=parseFloat(a21.value),a22=parseFloat(a22.value);const res=integrate_linear_2x2(a11,a12,a21,a22,1,0,0,10,0.01);draw(res.t,res.y,res.dim);};</script></body></html>